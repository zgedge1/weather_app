pipeline {
    agent any

    tools {
        // Use the correct tool type for Python
        // "Python3" should match the tool name configured in Jenkins Global Tool Configuration
        Python 'Python3'
    }

    stages {
        stage('Declarative: Checkout SCM') {
            steps {
                checkout scm
            }
        }

        stage('Install Dependencies') {
            steps {
                script {
                    // Install python3-venv package
                    sh 'apt-get update && apt-get install -y python3-venv'

                    // Create a virtual environment
                    sh 'python3 -m venv venv'
                }
            }
        }

        stage('Test') {
            steps {
                script {
                    // Your test steps here
                }
            }
        }

        // Other stages...

    }

    post {
        always {
            echo 'Post-build steps go here'
        }
    }
}
